<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tragamonedas JAC — HTML5 (5x3)</title>
<style>
  :root{
    --bg1:#1b0b2e;
    --bg2:#3b1666;
    --bg3:#0d0420;
    --gold1:#ffd36a;
    --gold2:#ffb800;
    --gold3:#a36a00;
    --accent:#ff2bd6;
    --accent2:#7c4dff;
    --win:#00ffb7;
    --lose:#ff5a7a;
    --panel:#120826cc;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    color:#fff;
    background:
      radial-gradient(1200px 600px at 20% 10%, #5b2ea3 0%, transparent 60%),
      radial-gradient(1000px 800px at 80% 20%, #2e1a5b 0%, transparent 60%),
      radial-gradient(800px 600px at 50% 120%, #1b0b2e 0%, transparent 60%),
      linear-gradient(180deg, var(--bg1), var(--bg3));
    overflow-x:hidden;
  }
  .stars:before, .stars:after{
    content:"";
    position:fixed; inset:0;
    background-image:
      radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,.35) 50%, transparent 50%),
      radial-gradient(2px 2px at 30% 80%, rgba(255,255,255,.25) 50%, transparent 50%),
      radial-gradient(2px 2px at 80% 30%, rgba(255,255,255,.25) 50%, transparent 50%),
      radial-gradient(2px 2px at 60% 60%, rgba(255,255,255,.2) 50%, transparent 50%);
    background-repeat:no-repeat;
    animation: twinkle 6s linear infinite;
    pointer-events:none;
  }
  .stars:after{ animation-delay: -3s; opacity:.6}
  @keyframes twinkle { 
    0%,100% { opacity:.4; transform:translateY(0) } 
    50% { opacity:1; transform:translateY(-10px) }
  }

  .wrap{
    min-height:100%;
    display:grid;
    place-items:center;
    padding:24px;
  }

  .machine{
    width:min(980px, 95vw);
    border-radius:24px;
    background: linear-gradient(145deg, #2a114b 0%, #0f0824 50%, #2c104e 100%);
    box-shadow:
      0 4px 40px rgba(0,0,0,.5),
      inset 0 0 0 2px rgba(255,255,255,.05);
    padding:18px;
    position:relative;
  }

  .bezel{
    border-radius:18px;
    padding:18px;
    background:
      linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.3)),
      linear-gradient(145deg, var(--gold1), var(--gold2) 40%, var(--gold3) 60%, #5b3b00 100%);
    box-shadow: 0 8px 50px rgba(0,0,0,.55), inset 0 0 20px rgba(0,0,0,.5);
    position:relative;
  }
  .marquee{
    position:absolute; left:50%; top:-60px; transform:translateX(-50%);
    padding:8px 18px; border-radius:999px; 
    background: linear-gradient(145deg, #ff5ee7, #7c4dff);
    box-shadow: 0 0 22px rgba(255, 46, 230, .5), inset 0 0 10px rgba(255,255,255,.35);
    border:2px solid rgba(255,255,255,.15);
    display:flex; align-items:center; gap:10px;
  }
  .marquee h1{
    margin:0; letter-spacing:.04em;
    font-weight:800; font-size: clamp(18px, 4vw, 28px);
    text-transform:uppercase;
    text-shadow: 0 2px 12px rgba(0,0,0,.6);
  }
  .glow-dot{
    width:10px; height:10px; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #fff, #ffe, #ff2bd6);
    box-shadow: 0 0 16px #ff2bd6, 0 0 26px #ff2bd6;
    animation: pulse 1.2s ease-in-out infinite;
  }
  @keyframes pulse {
    0%,100%{ transform:scale(.9); filter:brightness(.9) }
    50%{ transform:scale(1.1); filter:brightness(1.2) }
  }

  .hud{
    display:flex; flex-wrap:wrap; gap:12px; justify-content:space-between; align-items:center;
    margin:8px 0 16px;
  }
  .hud .chip{
    background: var(--panel);
    border:1px solid rgba(255,255,255,.08);
    border-radius:14px; padding:10px 14px;
    font-weight:700; letter-spacing:.02em;
    display:flex; align-items:center; gap:10px;
  }
  .hud .chip strong{ color: var(--gold1); text-shadow: 0 0 8px rgba(255,184,0,.4) }
  .hud .chip small{ opacity:.9 }
  .hud .chip .led{
    width:12px; height:12px; border-radius:50%;
    box-shadow: 0 0 10px currentColor, 0 0 22px currentColor;
  }

  /* Reels area */
  .viewport{
    position:relative;
    overflow:hidden;
    border-radius:14px;
    border:2px solid rgba(255,255,255,.08);
    background:
      radial-gradient(600px 200px at 50% 0%, rgba(255,255,255,.1), transparent 60%),
      linear-gradient(180deg, #0b051a, #1a0d34 40%, #0a0418);
  }

  .reels{
    display:grid;
    grid-template-columns: repeat(5, 1fr);
    gap:10px;
    padding:16px;
    height:min(58vh, 520px);
  }

  .reel{
    position:relative; overflow:hidden;
    border-radius:12px;
    box-shadow: inset 0 0 0 2px rgba(255,255,255,.06), inset 0 12px 35px rgba(0,0,0,.6);
    background: linear-gradient(180deg, #0d0520, #1a0d34 50%, #0d0520);
  }
  .symbols{
    position:absolute; left:0; right:0;
    will-change: transform;
  }

  .cell{
    height:calc((min(58vh,520px) - 32px - 2*10px)/3); /* 3 rows */
    display:grid; place-items:center;
    padding:8px;
  }

  /* Symbol card */
  .icon-card{
    width:100%;
    aspect-ratio: 1 / 1;
    display:grid; place-items:center;
    border-radius:14px;
    background:
      radial-gradient(100% 100% at 50% 0%, rgba(255,255,255,.08), transparent),
      linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.2));
    box-shadow: 0 6px 22px rgba(0,0,0,.45), inset 0 0 0 2px rgba(255,255,255,.06);
    position:relative;
  }
  .icon-card.win{
    outline: 3px solid var(--win);
    box-shadow: 0 0 18px rgba(0,255,183,.6), inset 0 0 0 2px rgba(255,255,255,.09);
    animation: winPulse .65s ease-in-out 0s 3;
  }
  @keyframes winPulse {
    0%,100%{ filter:brightness(1) }
    50%{ filter:brightness(1.4) }
  }

  /* Control panel */
  .controls{
    display:flex; flex-wrap:wrap; gap:12px; justify-content:center; align-items:center;
    margin-top:16px;
  }
  button{
    appearance:none; border:0; cursor:pointer;
    font-weight:900; letter-spacing:.06em; text-transform:uppercase;
    border-radius:16px; padding:14px 22px;
    color:#2d0a23;
    background:
      linear-gradient(145deg, #ffe478, #ffb800 40%, #e18c00 80%);
    box-shadow:
      0 10px 35px rgba(0,0,0,.45),
      inset 0 0 0 2px rgba(255,255,255,.35);
    transition: transform .06s ease, filter .06s ease;
  }
  button:active{ transform: translateY(1px) scale(.99) }
  button[disabled]{
    filter:grayscale(.6) brightness(.8);
    cursor:not-allowed;
  }
  .btn-secondary{
    background: linear-gradient(145deg, #d1c7ff, #8a7bff);
    color:#170f3a;
  }

  /* Payout table */
  .paybox{
    margin-top:14px;
    display:grid;
    grid-template-columns: repeat(6, minmax(0,1fr));
    gap:8px;
  }
  .pay{
    background: var(--panel);
    border:1px solid rgba(255,255,255,.07);
    border-radius:12px; padding:8px;
    text-align:center; font-size:.9rem;
  }
  .pay strong{ display:block; color:var(--gold1) }
  .pay .ico{ display:block; margin:6px auto; width:28px; height:28px }

  .toast{
    position: fixed; left:50%; bottom:22px; transform:translateX(-50%) translateY(20px);
    background: rgba(0,0,0,.65);
    border:1px solid rgba(255,255,255,.07);
    border-radius:14px; padding:10px 14px; opacity:0;
    transition: all .35s ease; pointer-events:none;
  }
  .toast.show{ opacity:1; transform:translateX(-50%) translateY(0) }

  /* Coins particles */
  .coins{ position:absolute; inset:0; pointer-events:none; overflow:visible }
  .coin{
    position:absolute; width:10px; height:10px; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #fff, var(--gold1) 40%, var(--gold2) 70%, var(--gold3) 100%);
    box-shadow: 0 0 12px rgba(255,184,0,.6);
    animation: fall 900ms ease-in forwards;
  }
  @keyframes fall{
    from{ transform: translateY(-20px) scale(.9); opacity:1 }
    to{ transform: translateY(30px) scale(1.1); opacity:0 }
  }

  /* Responsive */
  @media (max-width: 720px){
    .reels{ gap:6px; padding:10px; height:min(64vh, 520px) }
    .cell{ height:calc((min(64vh,520px) - 20px - 2*6px)/3) }
  }
</style>
</head>
<body class="stars">
  <div class="wrap">
    <div class="machine">
      <div class="marquee">
        <span class="glow-dot"></span>
        <h1>Tragamonedas JAC</h1>
        <span class="glow-dot"></span>
      </div>

      <div class="bezel">
        <div class="hud">
          <div class="chip"><span class="led" id="led" style="color:#36f"></span><small>Estado:</small> <strong id="state">Listo</strong></div>
          <div class="chip"><small>Giros restantes:</small> <strong id="spinsLeft">10</strong></div>
          <div class="chip"><small>Último premio:</small> <strong id="lastWin">0</strong></div>
          <div class="chip"><small>Total ganado:</small> <strong id="totalWin">0</strong></div>
        </div>

        <div class="viewport">
          <svg class="coins" id="coins"></svg>
          <div class="reels" id="reels">
            <!-- 5 reels generated by JS -->
          </div>
        </div>

        <div class="controls">
          <button id="spinBtn">SPIN</button>
          <button class="btn-secondary" id="resetBtn" title="Reiniciar a 10 giros">Reiniciar</button>
        </div>

        <div class="paybox" id="paybox">
          <!-- Payouts inserted by JS -->
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">Mensaje</div>

  <!-- SVG Symbols (vector icons) -->
  <svg width="0" height="0" style="position:absolute">
    <defs>
      <!-- GOLD STROKE -->
      <linearGradient id="goldStroke" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0%" stop-color="#fff3b0"/>
        <stop offset="50%" stop-color="#ffcc4d"/>
        <stop offset="100%" stop-color="#b88700"/>
      </linearGradient>

      <!-- CHERRY -->
      <g id="ico-cherry">
        <circle cx="16" cy="20" r="10" fill="#ff3350" stroke="url(#goldStroke)" stroke-width="2"/>
        <circle cx="28" cy="20" r="10" fill="#ff5a7a" stroke="url(#goldStroke)" stroke-width="2"/>
        <path d="M14 10 C16 2, 22 2, 24 10" stroke="#44d17a" stroke-width="3" fill="none" />
        <path d="M24 10 C30 6, 34 8, 36 10" stroke="#44d17a" stroke-width="3" fill="none" />
        <circle cx="21" cy="17" r="2" fill="#fff8"/>
      </g>

      <!-- LEMON -->
      <g id="ico-lemon">
        <ellipse cx="22" cy="20" rx="16" ry="12" fill="#ffe055" stroke="url(#goldStroke)" stroke-width="2"/>
        <ellipse cx="30" cy="20" rx="3" ry="3" fill="#fff9"/>
        <path d="M7 20 Q22 5, 37 20 Q22 35, 7 20" fill="none" stroke="#fff6" stroke-width="1.5"/>
      </g>

      <!-- STAR -->
      <g id="ico-star">
        <polygon points="22,4 27,17 40,17 30,25 34,38 22,30 10,38 14,25 4,17 17,17"
          fill="#ffd94d" stroke="url(#goldStroke)" stroke-width="2"/>
      </g>

      <!-- BELL -->
      <g id="ico-bell">
        <path d="M22 6 C30 6, 36 12, 36 20 L36 28 Q22 34, 8 28 L8 20 C8 12, 14 6, 22 6 Z" fill="#ffcf3a" stroke="url(#goldStroke)" stroke-width="2"/>
        <circle cx="22" cy="32" r="4" fill="#ffb800" stroke="#8a5a00" stroke-width="2"/>
      </g>

      <!-- DIAMOND -->
      <g id="ico-diamond">
        <polygon points="22,6 36,16 22,36 8,16" fill="#9be8ff" stroke="url(#goldStroke)" stroke-width="2"/>
        <polyline points="22,6 28,16 22,36 16,16 22,6" fill="none" stroke="#fff8" stroke-width="1.5"/>
      </g>

      <!-- 777 -->
      <g id="ico-777">
        <path d="M8 10 H36 L20 34" fill="#ff327a" stroke="url(#goldStroke)" stroke-width="3" />
        <path d="M8 10 H36 L20 34" transform="translate(0,-8)" fill="none" stroke="#fff4" stroke-width="2" />
      </g>

      <!-- BAR -->
      <g id="ico-bar">
        <rect x="4" y="10" width="36" height="18" rx="3" fill="#1c0f2f" stroke="url(#goldStroke)" stroke-width="2"/>
        <text x="22" y="24" text-anchor="middle" font-weight="900" font-size="12" fill="#fff">BAR</text>
      </g>
    </defs>
  </svg>

<script>
(function(){
  const $ = (sel, ctx=document) => ctx.querySelector(sel);
  const $$ = (sel, ctx=document) => [...ctx.querySelectorAll(sel)];
  const rand = (a,b)=> Math.floor(Math.random()*(b-a+1))+a;

  // GAME CONFIG
  const REELS = 5, ROWS = 3;
  const SPIN_TIME = 850;    // each reel spin ms
  const STAGGER = 120;      // delay between reels
  const MAX_SPINS = 10;
  const SYMBOLS = [
    { id:'777',   pct:4,  pay:[0,0,30,100,250,1000] },
    { id:'diamond', pct:7,  pay:[0,0,20,60,150,500] },
    { id:'bell',    pct:10, pay:[0,0,12,40,100,250] },
    { id:'star',    pct:12, pay:[0,0,10,30,80,160] },
    { id:'bar',     pct:20, pay:[0,0,6,16,40,100] },
    { id:'lemon',   pct:23, pay:[0,0,4,10,24,60] },
    { id:'cherry',  pct:24, pay:[0,0,3,8,20,40] },
  ];
  // Build weighted reel strip
  const strip = SYMBOLS.flatMap(s => Array(s.pct).fill(s.id));

  // 10 classic-ish paylines (indexes by row for each reel)
  const LINES = [
    [1,1,1,1,1], // middle
    [0,0,0,0,0], // top
    [2,2,2,2,2], // bottom
    [0,1,2,1,0],
    [2,1,0,1,2],
    [0,0,1,0,0],
    [2,2,1,2,2],
    [1,0,0,0,1],
    [1,2,2,2,1],
    [0,1,1,1,2],
  ];

  const reelsEl = $('#reels');
  const toastEl = $('#toast');
  const spinBtn = $('#spinBtn');
  const resetBtn = $('#resetBtn');
  const stateEl = $('#state');
  const ledEl = $('#led');
  const spinsLeftEl = $('#spinsLeft');
  const lastWinEl = $('#lastWin');
  const totalWinEl = $('#totalWin');
  const coinsEl = $('#coins');
  const payboxEl = $('#paybox');

  let spinsLeft = MAX_SPINS;
  let isSpinning = false;
  let totalWin = 0;

  spinsLeftEl.textContent = spinsLeft;

  // Build reels DOM
  const reelCols = [];
  for (let r=0; r<REELS; r++){
    const col = document.createElement('div');
    col.className = 'reel';
    const inner = document.createElement('div');
    inner.className = 'symbols';
    col.appendChild(inner);

    // Create enough cells to allow spin illusion (add a buffer)
    const visible = ROWS;
    const buffer = 10;
    const cells = visible + buffer;
    for (let i=0; i<cells; i++){
      const cell = document.createElement('div');
      cell.className = 'cell';
      cell.appendChild(makeIconCard(randomSymbol()));
      inner.appendChild(cell);
    }
    reelsEl.appendChild(col);
    reelCols.push({col, inner});
  }

  // Build payout mini table
  renderPaytable();

  function makeIconCard(id){
    const card = document.createElement('div');
    card.className = 'icon-card';
    const svg = document.createElementNS('http://www.w3.org/2000/svg','svg');
    svg.setAttribute('viewBox','0 0 44 44');
    svg.setAttribute('width','64');
    svg.setAttribute('height','64');
    const use = document.createElementNS('http://www.w3.org/2000/svg','use');
    use.setAttributeNS('http://www.w3.org/1999/xlink','href', '#ico-'+id);
    svg.appendChild(use);
    card.appendChild(svg);
    card.dataset.id = id;
    return card;
  }

  function randomSymbol(){ return strip[rand(0, strip.length-1)]; }

  function spin(){
    if (isSpinning) return;
    if (spinsLeft <= 0){
      toast('Sin giros. Presiona Reiniciar.');
      return;
    }
    isSpinning = true;
    setState('Girando...', '#3cf');
    spinBtn.disabled = true;
    resetWinHighlights();

    const results = []; // 2D [row][reel]
    let finished = 0;

    for (let r=0; r<REELS; r++){
      const {inner} = reelCols[r];
      // shift existing cells upward quickly to "start"
      const startOffset = -20;
      inner.style.transition = 'none';
      inner.style.transform = `translateY(${startOffset}px)`;

      // Fill new symbols towards the end so the last 3 become the final grid
      const cells = $$('.cell', inner);
      for (let i=0; i<cells.length; i++){
        const id = randomSymbol();
        const card = cells[i].firstElementChild;
        card.replaceWith(makeIconCard(id));
      }
      // Determine final 3 for this column
      const colFinal = [randomSymbol(), randomSymbol(), randomSymbol()];
      results[r] = colFinal.map(id => id); // store column symbols top->bottom

      // Place the final 3 at the end positions (last 3 cells)
      const L = cells.length;
      for (let k=0;k<ROWS;k++){
        cells[L-ROWS+k].firstElementChild.replaceWith(makeIconCard(colFinal[k]));
      }

      // Animate to bring last 3 into view
      const reelHeight = inner.getBoundingClientRect().height;
      const cellH = cells[0].getBoundingClientRect().height;
      const finalY = -(reelHeight - ROWS*cellH);

      requestAnimationFrame(()=>{
        setTimeout(()=>{
          inner.style.transition = `transform ${SPIN_TIME + r*STAGGER}ms cubic-bezier(.17,.97,.3,1)`;
          inner.style.transform = `translateY(${finalY}px)`;
        }, r*STAGGER);
      });

      inner.addEventListener('transitionend', onEnd, { once:false });
    }

    function onEnd(e){
      if (e.propertyName !== 'transform') return;
      finished++;
      if (finished >= REELS){
        // Remove listeners
        for (const {inner} of reelCols){
          inner.style.transition = 'none';
          inner.removeEventListener('transitionend', onEnd);
        }
        onAllStop(results);
      }
    }
  }

  function onAllStop(colResults){
    spinsLeft--;
    spinsLeftEl.textContent = spinsLeft;
    const grid = toGrid(colResults); // rows x reels
    const outcome = evaluate(grid);
    lastWinEl.textContent = outcome.win;
    totalWin += outcome.win;
    totalWinEl.textContent = totalWin;

    if (outcome.win > 0){
      highlightWins(outcome.hitCells);
      coinsBurst();
      toast(outcome.message || `¡Ganaste ${outcome.win}!`);
      setState('¡Ganaste!', '#0fb');
    } else {
      setState('Sin premio', '#f66');
    }

    isSpinning = false;
    spinBtn.disabled = (spinsLeft<=0);
    if (spinsLeft<=0) toast('Se acabaron los 10 giros. Dale "Reiniciar" para jugar de nuevo.');
  }

  function toGrid(cols){
    // cols: [reel][rowTop..rowBottom] -> grid: [row][reel]
    const grid = Array.from({length: ROWS}, ()=> Array(REELS).fill(''));
    for (let c=0;c<REELS;c++){
      for (let r=0;r<ROWS;r++){
        grid[r][c] = cols[c][r];
      }
    }
    return grid;
  }

  function evaluate(grid){
    let win = 0;
    const hitCells = []; // list of [r,c]
    const lineHits = [];

    for (let li=0; li<LINES.length; li++){
      const pat = LINES[li];
      // Count consecutive from left
      let count = 1;
      let symbol = grid[pat[0]][0];
      const cells = [[pat[0],0]];
      for (let c=1;c<REELS;c++){
        const r = pat[c];
        const s = grid[r][c];
        if (s === symbol){
          count++; cells.push([r,c]);
        }else{
          break;
        }
      }
      if (count >= 3){
        const sym = SYMBOLS.find(x=>x.id===symbol);
        const pay = sym ? sym.pay[count] || 0 : 0;
        win += pay;
        hitCells.push(...cells.slice(0,count));
        lineHits.push({ line: li+1, symbol, count, pay });
      }
    }

    let message = '';
    if (lineHits.length){
      const best = lineHits.sort((a,b)=>b.pay-a.pay)[0];
      if (best.symbol==='777' && best.count===5) message = '¡JACKPOT 777! +' + best.pay;
      else message = `Línea ${best.line}: ${best.count}× ${best.symbol.toUpperCase()} = +${best.pay}`;
    }

    return { win, hitCells, message, lineHits };
  }

  function resetWinHighlights(){
    $$('.icon-card.win').forEach(el => el.classList.remove('win'));
  }

  function highlightWins(cells){
    // cells -> add .win to corresponding DOM nodes in the viewport currently visible
    // We'll highlight the LAST 3 cells of each column which are visible rows
    for (let c=0;c<REELS;c++){
      const inner = reelCols[c].inner;
      const items = $$('.cell', inner);
      const visible = items.slice(items.length-ROWS);
      for (let r=0;r<ROWS;r++){
        if (cells.find(([rr,cc])=> rr===r && cc===c)){
          visible[r].firstElementChild.classList.add('win');
        }
      }
    }
  }

  function setState(text, color){
    stateEl.textContent = text;
    ledEl.style.color = color || '#36f';
  }

  function toast(msg){
    toastEl.textContent = msg;
    toastEl.classList.add('show');
    clearTimeout(toast._t);
    toast._t = setTimeout(()=> toastEl.classList.remove('show'), 2000);
  }

  function coinsBurst(){
    const rect = reelsEl.getBoundingClientRect();
    const cx = rect.left + rect.width/2;
    for (let i=0;i<20;i++){
      const c = document.createElementNS('http://www.w3.org/2000/svg','circle');
      c.setAttribute('class','coin');
      const x = rand(20, rect.width-20);
      const y = rand(10, 40);
      c.setAttribute('cx', x);
      c.setAttribute('cy', y);
      coinsEl.appendChild(c);
      setTimeout(()=> c.remove(), 900);
    }
  }

  function renderPaytable(){
    // Show top pays for 3/4/5
    const order = [...SYMBOLS].sort((a,b)=> b.pay[5]-a.pay[5]);
    for (const s of order){
      const div = document.createElement('div');
      div.className = 'pay';
      div.innerHTML = `
        <svg class="ico" viewBox="0 0 44 44"><use href="#ico-${s.id}"/></svg>
        <strong>${s.id.toUpperCase()}</strong>
        3× ${s.pay[3]} • 4× ${s.pay[4]} • 5× ${s.pay[5]}
      `;
      payboxEl.appendChild(div);
    }
  }

  // Wire buttons
  spinBtn.addEventListener('click', spin);
  resetBtn.addEventListener('click', ()=>{
    spinsLeft = MAX_SPINS; spinsLeftEl.textContent = spinsLeft;
    isSpinning = false; setState('Listo', '#36f');
    spinBtn.disabled = false;
    lastWinEl.textContent = '0'; totalWin = 0; totalWinEl.textContent = '0';
    resetWinHighlights();
    toast('Reiniciado a 10 giros.');
  });

  // Keyboard
  window.addEventListener('keydown', (e)=>{
    if (e.code === 'Space'){ e.preventDefault(); spinBtn.click(); }
    if (e.code === 'KeyR') resetBtn.click();
  });

})();</script>
</body>
</html>
